<h1>Listing <% if params[:unused] == "1" %>potentially unused<% end %> members</h1>
<div>
  <%= render 'shared/search_filters' do |form| %>
    <%= form.label :unused, "Unused:" %>
    <%= form.check_box :unused, :checked => params[:unused] == "1" %>&nbsp;
  <% end %>
  <div>
    Listing <strong><%= @offset %>-<%= @offset + @members_count %>/<%= @members_all_count %></strong> members.
  </div>
  <% if @members_count > 0 %>
    <%= render 'shared/prev_next' %>
    <table class="structs">
      <thead>
        <tr>
          <th>Struct <%= link_to('▲', request.params.merge({order: 'Struct', order_dir: 'asc'})) %><%= link_to('▼', request.params.merge({order: 'Struct', order_dir: 'desc'})) %></th>
          <th>Member <%= link_to('▲', request.params.merge({order: 'Member', order_dir: 'asc'})) %><%= link_to('▼', request.params.merge({order: 'Member', order_dir: 'desc'})) %></th>
          <th>File <%= link_to('▲', request.params.merge({order: 'File', order_dir: 'asc'})) %><%= link_to('▼', request.params.merge({order: 'File', order_dir: 'desc'})) %></th>
          <th>Line</th>
          <th>Column</th>
        </tr>
      </thead>
      <tbody>
        <% @members.each do |member| %>
          <tr id="et<%= member.id %>">
            <td><%= link_to(member.struct_name, struct_path(member.struct_id)) %>
            (<%= src_link_to('src', member.src_file,
                             member.struct_begLine) %>)</td>
            <td><%= link_to(member.name, struct_use_path(member.struct_id, member)) %>
            (<%= src_link_to('src', member.src_file,
                             member.begLine) %>)</td>
            <td><%= src_link_to(member.src_file, member.src_file) %></td>
            <td><%= member.begLine %></td>
            <td><%= member.begCol %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
    <%= render 'shared/prev_next' %>
  <% end %>
</div>
<br>
